{% extends 'index.html' %}

{% block body %}
<div class="container d-flex justify-content-center">
  <div class="row justify-content-center mt-4">
    <div class="col-md-8">
        <div class="card-body">
          <h5 class="card-title">Willkommen auf Ihrer Startseite, {{ the_username }}!</h5>
          <p class="card-text">Mit Hilfe von Gamification können Sie auf der Seite die Umweltschonung fördern,
            indem Sie die Routenfunktion verwenden um umweltfreundliche Fahrtroute zu ermittlen.
            Sie haben die Möglichkeit, sich mit anderen zu Messen, Punkte zu erzielen und Abzeichen zu erwerben.
            Über den Header oben gelangen Sie zu allen Funktionen.
          </p>
        </div>
    </div>
  </div>
</div>
<div class="container d-flex">
  <div class="row mt-4">
    <div class="col-md-8">
      <div class="card-body">
        <h5 class="card-title">Aktuelle Punktzahl</h5>
        <p class="card-text">{{ user_points }}</p>
      </div>
    </div>
  </div>
</div>
{% if badges %}
  <div class="modal fade" id="newBadgesModal" tabindex="-1" role="dialog" aria-labelledby="newBadgesModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="newBadgesModalLabel">Durch der Fahrt verdiente Abzeichen</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
              <ul>
                  {% for badge in badges %}
                      <li>{{ badge }}</li>
                  {% endfor %}
              </ul>
          </div>
        </div>
    </div>
  </div>
  <script>
    $(document).ready(function(){
        $('#newBadgesModal').modal('show');
    });
  </script>
{% endif %}
{% endblock %}